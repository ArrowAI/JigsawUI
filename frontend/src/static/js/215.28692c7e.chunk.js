"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[215],{40059:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(99586);const i={getAllTools:()=>n.Z.get("/pieces"),createNewTool:e=>{console.log(typeof e),n.Z.post("/pieces",e)}}},85745:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(4048),i=a(9988),l=a(21131);let o;const s=()=>{const[e,t]=(0,n.useContext)(i.Z),a=()=>{t({type:l.bA})};return{confirm:e=>(t({type:l.gN,payload:e}),new Promise((e=>{o=e}))),onConfirm:()=>{a(),o(!0)},onCancel:()=>{a(),o(!1)},confirmState:e}}},48580:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(45730),i=a(4048),l=a(92824),o=a(1647),s=a(76113),r=a(20842),d=a(69652),c=a(85745),x=a(58),u=a(60080);const p=()=>{const{onConfirm:e,onCancel:t,confirmState:a}=(0,c.Z)(),[p,h]=(0,i.useState)(null);(0,i.useEffect)((()=>{h(document.getElementById("portal"))}),[a.show]);const m=a.show?(0,u.jsxs)(l.Z,{fullWidth:!0,maxWidth:"xs",open:a.show,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(o.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title}),(0,u.jsx)(s.Z,{children:(0,u.jsx)("span",{children:a.description})}),(0,u.jsxs)(r.Z,{children:[(0,u.jsx)(d.Z,{onClick:t,children:a.cancelButtonName}),(0,u.jsx)(x.S,{variant:"contained",onClick:e,children:a.confirmButtonName})]})]}):null;return p?(0,n.createPortal)(m,p):null}},75963:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(4048),i=a(16442),l=a(15458),o=a(21131);let s=[];const r=()=>{const e=(0,i.I0)(),t=(0,i.v9)((e=>e.notifier)),{notifications:a}=t,{enqueueSnackbar:r,closeSnackbar:d}=(0,l.Ds)();n.useEffect((()=>{a.forEach((t=>{let{key:a,message:n,options:i={},dismissed:l=!1}=t;var c;l?d(a):s.includes(a)||(r(n,{key:a,...i,onClose:(e,t,a)=>{i.onClose&&i.onClose(e,t,a)},onExited:(t,a)=>{var n;e((0,o.PN)(a)),n=a,s=[...s.filter((e=>n!==e))]}}),c=a,s=[...s,c])}))}),[a,d,r,e])}},30215:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(45730),i=a(4048),l=a(16442),o=a(21131),s=(a(41234),a(69652),a(92824)),r=a(76113),d=a(79527),c=a(27408),x=a(58),u=a(60080);a(29501);var p=a(36515),h=a(15391),m=a(48580),j=(a(89717),a(14429),a(67796)),g=(a(62424),a(40059)),Z=a(85745),f=a(91856),b=a(75963),v=(a(8890),a(14213));let y=!1;const C=e=>{let{show:t,dialogProps:a,onUseTemplate:C,onCancel:w,onConfirm:S}=e;console.log(t),y=t;const[k,P]=(0,i.useState)(null),[N,T]=((0,j.Z)(),(0,i.useState)(!1)),I=((0,l.v9)((e=>e.customization)),(0,l.I0)());(0,i.useEffect)((()=>{console.log(document.getElementById("portal")),P(document.getElementById("portal"))}),[y]),(0,b.Z)();const{confirm:E}=(0,Z.Z)(),A=(0,f.Z)(g.Z.getSpecificTool),[O,R]=(0,i.useState)(""),[D,W]=(0,i.useState)(""),[B,G]=(0,i.useState)(""),[F,M]=(0,i.useState)(""),[U,q]=(0,i.useState)([]),[z,V]=(0,i.useState)(""),L=(0,i.useCallback)((e=>()=>{setTimeout((()=>{q((t=>t.filter((t=>t.id!==e))))}))}),[]);(0,i.useMemo)((()=>[{field:"property",headerName:"Property",editable:!0,flex:1},{field:"type",headerName:"Type",type:"singleSelect",valueOptions:["string","number","boolean","date"],editable:!0,width:120},{field:"description",headerName:"Description",editable:!0,flex:1},{field:"required",headerName:"Required",type:"boolean",editable:!0,width:80},{field:"actions",type:"actions",width:80,getActions:e=>[(0,u.jsx)(p.u,{icon:(0,u.jsx)(h.Z,{}),label:"Delete",onClick:L(e.id)},"Delete")]}]),[L]);(0,i.useEffect)((()=>(I(y?{type:o.tS}:{type:o.Go}),()=>I({type:o.Go}))),[y,I]),(0,i.useEffect)((()=>{A.data&&(R(A.data.id),W(A.data.name),G(A.data.description),q((e=>{try{return JSON.parse(e).map(((e,t)=>({...e,id:t})))}catch(t){return[]}})(A.data.schema)),A.data.func?V(A.data.func):V(""))}),[A.data]);console.log(y);const J=y?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v.Z,{openToolEditModal:N,setOpenToolEditModal:T}),(0,u.jsxs)(s.Z,{fullWidth:!0,maxWidth:"md",open:y,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsxs)(r.Z,{children:[(0,u.jsxs)(d.Z,{sx:{p:2,display:"flex",alignItems:"center"},children:[(0,u.jsx)(c.Z,{id:"toolName",size:"small",type:"string",placeholder:"Ask the ai to create a tool which:",value:D,name:"toolName",onChange:e=>W(e.target.value),sx:{width:"90%",marginRight:"10px"}}),(0,u.jsx)(x.S,{variant:"contained",onClick:()=>{T(!0)},sx:{borderRadius:"10px"},children:"Add"})]}),(0,u.jsx)(d.Z,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)("b",{children:"Or Create From Scratch"})}),(0,u.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)(d.Z,{sx:{textDecoration:"underLine",cursor:"pointer",color:"blue","&:hover":{color:"darkBlue"}},onClick:()=>{T(!0)},children:"Create Node"})})]}),(0,u.jsx)(m.Z,{})]})]}):null;return console.log(k),k?(0,n.createPortal)(J,k):null}},14213:(e,t,a)=>{a.d(t,{Z:()=>V});var n=a(4048),i=a(69652),l=a(92824),o=a(98352),s=a(97668),r=a(23574),d=a(40249),c=a(3698),x=a(15079),u=a(23409),p=a(100),h=(a(3363),a(4620)),m=a(79527),j=a(79049),g=a(93596),Z=a(24693),f=a(23066),b=a(75141),v=a(62638),y=a(42921),C=a(73384),w=a(28373),S=a(33264),k=a(15391),P=a(44410),N=a(75909),T=a(10270),I=a(72117),E=(a(9304),a(18496)),A=a(49259),O=a(8537),R=a(40059),D=a(91856),W=a(47704),B=a(8890),G=a(60080);const F={custom:W.Z};(0,A.ZP)(N.Z)((e=>{let{theme:t}=e;return{background:t.palette.card.main,color:t.darkTextPrimary,border:"solid 1px",borderColor:t.palette.primary[200]+75,width:"300px",height:"auto",padding:"10px",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)","&:hover":{borderColor:t.palette.primary.main}}})),(0,A.ZP)((e=>{let{className:t,...a}=e;return(0,G.jsx)(h.Z,{...a,classes:{popper:t}})}))({["& .".concat(E.Z.tooltip)]:{maxWidth:500}});function M(e){const{children:t,value:a,index:n,...i}=e;return(0,G.jsx)("div",{role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),...i,children:a===n&&(0,G.jsx)(m.Z,{sx:{padding:"0px"},children:(0,G.jsx)(d.Z,{children:t})})})}function U(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}const q=n.forwardRef((function(e,t){return(0,G.jsx)(x.Z,{direction:"up",ref:t,...e})}));let z={id:"byV6RieVrn7SWn5LlmaUm",name:"@activepieces/piece-openai",created:"2023-08-30T15:14:25.204Z",updated:"2023-08-30T15:14:25.204Z",displayName:"asana ",logoUrl:"https://cdn.activepieces.com/pieces/openai.png",description:"Use ChatGPT to generate text",version:"0.3.6",minimumSupportedRelease:"0.5.0",maximumSupportedRelease:"99999.99999.9999",actions:{action1:{name:"ask_chatgpt",displayName:"Ask ChatGPT",description:"Ask ChatGPT anything you want!",props:[{label:"Authentication",name:"authentication",type:"options",options:[{name:"Access Token",value:"accessToken"},{name:"OAuth2",value:"oAuth2"}],default:"accessToken"}],outputs:["output1","output2"],controlInputs:[{label:"default",name:"default"}],inputParams:[{label:"Input Param",name:"input-param",type:"string",additionalParams:!1,id:"input-param-1"}],controlOutputs:[{label:"default",name:"default"}]}}};function V(e){let{openToolEditModal:t,setOpenToolEditModal:a}=e;const[x,h]=(0,n.useState)(null),[N,E]=n.useState(0),[A,W]=n.useState(""),[V,L]=n.useState(!1),[J,K]=(0,n.useState)(!1),[$,_,H]=(0,T.Rr)([]),[Q,X]=n.useState(z),{reactFlowInstance:Y,setReactFlowInstance:ee}=(0,n.useContext)(O.K),te=(0,D.Z)(R.Z.createNewTool),[ae,ne]=(0,n.useState)({name:"",email:"",gender:""}),ie=e=>{const{name:t,value:a}=e.target;ne({...ae,[t]:a})},le=()=>{a(!1)};return(0,n.useEffect)((()=>{const e=e=>{const t={language:"javascript",theme:"dracula"};e&&p.Z.highlightElement(e,t)};if(x){const t=(0,u.V)(x,e,{theme:"dracula"});return t.onUpdate((e=>{W(e)})),()=>{t.destroy()}}}),[x]),(0,n.useEffect)((()=>{const e=(0,B.VZ)(Q,Y.getNodes()),t={id:e,position:{x:0,y:0},type:"custom",data:(0,B.qR)(Q,e)};_((e=>e.concat(t)))}),[]),(0,G.jsx)("div",{children:(0,G.jsxs)(l.Z,{fullScreen:!0,open:t,onClose:le,TransitionComponent:q,children:[(0,G.jsx)(o.Z,{sx:{position:"relative",backgroundColor:"transparent",boxShadow:"none"},children:(0,G.jsxs)(s.Z,{children:[(0,G.jsx)(r.Z,{sx:{color:"darkgray"},edge:"start",onClick:le,"aria-label":"close",children:(0,G.jsx)(c.Z,{})}),(0,G.jsx)(d.Z,{sx:{ml:2,flex:1,color:"darkgray"},variant:"h6",component:"div",children:(0,G.jsx)(j.Z,{sx:{width:"20vw","& .MuiOutlinedInput-root":{"& fieldset":{border:J?"1px solid #aaa":"none"},"&:hover fieldset":{border:"1px solid #aaa"}}},size:"small",id:"outlined-basic",label:"Tool Name",variant:"outlined",onFocus:()=>{K(!0)},onBlur:()=>{K(!1)}})}),(0,G.jsx)(i.Z,{disabled:!(A.length>0),sx:{color:"darkgray"},onClick:async()=>{await te.request(JSON.parse(A)),x.textContent="",L(!0),W("")},children:V?"saved":"save"})]})}),(0,G.jsx)(m.Z,{sx:{border:"1px solid lightgray"},children:(0,G.jsxs)(g.ZP,{container:!0,children:[(0,G.jsx)(g.ZP,{item:!0,xs:3,children:(0,G.jsxs)(m.Z,{sx:{width:"24vw",height:"90vh",border:"1px solid lightgray",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,G.jsx)("div",{style:{width:"22vw",height:"30vh",margin:"50px 0px"},children:(0,G.jsx)(T.x$,{nodes:$,nodeTypes:F,onNodesChange:H,children:(0,G.jsx)(I.A,{color:"#aaa",gap:16})})}),(0,G.jsx)("div",{children:(0,G.jsx)(j.Z,{sx:{width:"20vw"},id:"outlined-basic",size:"small",label:"Outlined",variant:"outlined"})})]})}),(0,G.jsx)(g.ZP,{item:!0,xs:9,children:(0,G.jsx)(m.Z,{sx:{width:"74vw",height:"90vh"},children:(0,G.jsxs)(m.Z,{children:[(0,G.jsx)(m.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,G.jsxs)(w.Z,{value:N,onChange:(e,t)=>{E(t)},"aria-label":"basic tabs example",children:[(0,G.jsx)(P.Z,{label:"Tool Logic",...U(0)}),(0,G.jsx)(P.Z,{label:"Params",...U(1)}),(0,G.jsx)(P.Z,{label:"Output",...U(2)}),(0,G.jsx)(P.Z,{label:"Info",...U(3)}),(0,G.jsx)(P.Z,{label:"AI Update",...U(4)})]})}),(0,G.jsx)(M,{value:N,index:0,children:(0,G.jsx)(m.Z,{children:(0,G.jsx)("div",{className:"codejareditor",ref:e=>h(e)})})}),(0,G.jsx)(M,{value:N,index:1,children:(0,G.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,G.jsx)(g.ZP,{item:!0,xs:5,children:(0,G.jsx)(m.Z,{sx:{display:"inline-block",padding:"20px",width:"30vw",height:"83vh",borderRight:"1px solid lightgray"},children:(0,G.jsxs)(Z.Z,{variant:"outlined",sx:{width:"100%"},children:[(0,G.jsxs)(m.Z,{sx:{margin:"5px",width:"100%",padding:"10px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,G.jsx)(m.Z,{sx:{width:"50%"},children:(0,G.jsx)(d.Z,{variant:"h4",component:"h2",children:"Field"})}),(0,G.jsx)(m.Z,{sx:{width:"50%"},children:(0,G.jsx)(S.Z,{sx:{float:"right",cursor:"pointer"},onClick:()=>{const e={...Q};e.actions.action1.inputParams.push({label:"New Input Param",name:"new-input-param",type:"string",additionalParams:!1,id:"new-input-param-1"}),X(e)}})})]}),(0,G.jsx)(f.Z,{}),Q.actions.action1.inputParams.map(((e,t)=>(0,G.jsxs)(Z.Z,{variant:"outlined",sx:{cursor:"pointer","&:hover":{backgroundColor:"lightGray"},margin:"5px",px:"10px",py:"4px",backgroundColor:"gainsboro",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,G.jsx)(m.Z,{sx:{width:"50%"},children:(0,G.jsx)(d.Z,{variant:"h4",component:"h2",children:e.name})}),(0,G.jsx)(m.Z,{sx:{width:"50%"},children:(0,G.jsx)(k.Z,{sx:{float:"right"},onClick:()=>{(e=>{const t={...Q};t.actions.action1.inputParams.splice(e,1),X(t)})(t)}})})]},t)))]})})}),(0,G.jsx)(g.ZP,{item:!0,xs:7,children:(0,G.jsx)(m.Z,{sx:{display:"inline-block",padding:"20px",width:"40vw"},children:(0,G.jsx)(Z.Z,{variant:"outlined",children:(0,G.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log(ae)},children:[(0,G.jsx)(j.Z,{fullWidth:!0,label:"Name",name:"name",variant:"outlined",value:ae.name,onChange:ie,margin:"normal"}),(0,G.jsx)(j.Z,{fullWidth:!0,label:"Email",name:"email",variant:"outlined",value:ae.email,onChange:ie,margin:"normal"}),(0,G.jsxs)(b.Z,{variant:"outlined",fullWidth:!0,margin:"normal",children:[(0,G.jsx)(v.Z,{children:"Gender"}),(0,G.jsxs)(y.Z,{label:"Gender",name:"gender",value:ae.gender,onChange:ie,children:[(0,G.jsx)(C.Z,{value:"male",children:"Male"}),(0,G.jsx)(C.Z,{value:"female",children:"Female"}),(0,G.jsx)(C.Z,{value:"other",children:"Other"})]})]}),(0,G.jsx)(i.Z,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})})})})]})}),(0,G.jsx)(M,{value:N,index:2,children:"Output"}),(0,G.jsxs)(M,{value:N,index:3,children:[(0,G.jsx)("b",{children:"Name : Tool Name"}),(0,G.jsx)("br",{}),(0,G.jsx)("b",{children:"Description: this is tool"})]}),(0,G.jsx)(M,{value:N,index:4,children:"AI update"})]})})})]})})]})})}}}]);
//# sourceMappingURL=215.28692c7e.chunk.js.map